let btnSave; function setDOMObjects() { btnSave = $("#btnSave") } function getUserFormData() { const e = {}, r = $("input"); for (let t of r) e[t.name] = t.value; return e } function saveUser() { const e = getUserFormData(); $.ajax({ method: "POST", url: "/User/Register", data: e, success: function (e) { if ("Error" === e.Message) { let r = createErrorMessageValidation(e.Errors); return void showAlert("danger", r) } clearLocalStorage(), setDataUserId(e.User.UserId), setDataUserEmail(e.User.Email); const r = `${window.location.origin}/Person/Person`; window.location.replace(r) }, error: function () { console.log("Error"), showAlert("danger", "An error has ocurred, please contact with the system administrator") } }) } $(document).ready(function () { setDOMObjects(), btnSave.click(function () { saveUser() }) });